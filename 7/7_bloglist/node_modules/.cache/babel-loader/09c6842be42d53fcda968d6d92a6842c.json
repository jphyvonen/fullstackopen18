{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\src\\\\App.js\";\nimport React from 'react';\nimport BlogList from './components/BlogList';\nimport FormLogin from './components/FormLogin';\nimport FormAddBlog from './components/FormAddBlog';\nimport Togglable from './components/Togglable';\nimport Notification from './components/Notification';\nimport { actionForSettingUser } from './reducers/userReducer';\nimport { initBlogs } from './reducers/blogReducer';\nimport { connect } from 'react-redux';\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var loggedUserJSON, user;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              loggedUserJSON = window.localStorage.getItem('loggedUser');\n\n              if (!loggedUserJSON) {\n                _context.next = 5;\n                break;\n              }\n\n              user = JSON.parse(loggedUserJSON);\n              _context.next = 5;\n              return _this.props.actionForSettingUser(user);\n\n            case 5:\n              _this.props.initBlogs();\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"showLoginForm\",\n    value: function showLoginForm() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, React.createElement(Togglable, {\n        buttonLabel: \"Start login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, React.createElement(FormLogin, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"showBlogsAndUser\",\n    value: function showBlogsAndUser() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(BlogList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }), React.createElement(FormAddBlog, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Notification, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), this.props.user === null ? this.showLoginForm() : this.showBlogsAndUser());\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nvar mapDispatchToProps = {\n  actionForSettingUser: actionForSettingUser,\n  initBlogs: initBlogs\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar ConnectedApp = connect(mapStateToProps, mapDispatchToProps)(App);\nexport default ConnectedApp;","map":{"version":3,"sources":["C:\\Users\\Juha\\Desktop\\Full_stack_open_2018\\7\\7_bloglist\\src\\App.js"],"names":["React","BlogList","FormLogin","FormAddBlog","Togglable","Notification","actionForSettingUser","initBlogs","connect","App","componentDidMount","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","props","showLoginForm","showBlogsAndUser","Component","mapDispatchToProps","mapStateToProps","state","ConnectedApp"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,SAASC,oBAAT,QAAqC,wBAArC;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;;IAEMC,G;;;;;;;;;;;;;;;;;UAEJC,iB;;;;6BAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AACZC,cAAAA,cADY,GACKC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CADL;;AAAA,mBAEdH,cAFc;AAAA;AAAA;AAAA;;AAGVI,cAAAA,IAHU,GAGHC,IAAI,CAACC,KAAL,CAAWN,cAAX,CAHG;AAAA;AAAA,qBAIV,MAAKO,KAAL,CAAWZ,oBAAX,CAAgCS,IAAhC,CAJU;;AAAA;AAMlB,oBAAKG,KAAL,CAAWX,SAAX;;AANkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;oCASJ;AACd,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAW,QAAA,WAAW,EAAC,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF;AAOD;;;uCACkB;AACjB,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF;AAMD;;;6BACQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEG,KAAKW,KAAL,CAAWH,IAAX,KAAoB,IAApB,GACC,KAAKI,aAAL,EADD,GAEC,KAAKC,gBAAL,EAJJ,CADF;AAQD;;;;EArCepB,KAAK,CAACqB,S;;AAuCxB,IAAMC,kBAAkB,GAAG;AACzBhB,EAAAA,oBAAoB,EAApBA,oBADyB;AAEzBC,EAAAA,SAAS,EAATA;AAFyB,CAA3B;;AAIA,IAAMgB,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,SAAO;AAAET,IAAAA,IAAI,EAAES,KAAK,CAACT;AAAd,GAAP;AACD,CAFD;;AAGA,IAAMU,YAAY,GAAGjB,OAAO,CAACe,eAAD,EAAkBD,kBAAlB,CAAP,CAA6Cb,GAA7C,CAArB;AACA,eAAegB,YAAf","sourcesContent":["import React from 'react'\r\nimport BlogList from './components/BlogList'\r\nimport FormLogin from './components/FormLogin'\r\nimport FormAddBlog from './components/FormAddBlog'\r\nimport Togglable from './components/Togglable'\r\nimport Notification from './components/Notification'\r\nimport { actionForSettingUser } from './reducers/userReducer'\r\nimport { initBlogs } from './reducers/blogReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount = async () => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      await this.props.actionForSettingUser(user)\r\n    }\r\n    this.props.initBlogs()\r\n  }\r\n\r\n  showLoginForm() {\r\n    return (\r\n      <div>\r\n        <Togglable buttonLabel=\"Start login\">\r\n          <FormLogin />\r\n        </Togglable>\r\n      </div>\r\n    )\r\n  }\r\n  showBlogsAndUser() {\r\n    return (\r\n      <div>\r\n        <BlogList />\r\n        <FormAddBlog />\r\n      </div>\r\n    )\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Notification />\r\n        {this.props.user === null ?\r\n          this.showLoginForm() :\r\n          this.showBlogsAndUser()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  actionForSettingUser,\r\n  initBlogs\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return { user: state.user }\r\n}\r\nconst ConnectedApp = connect(mapStateToProps, mapDispatchToProps)(App)\r\nexport default ConnectedApp;\r\n"]},"metadata":{},"sourceType":"module"}