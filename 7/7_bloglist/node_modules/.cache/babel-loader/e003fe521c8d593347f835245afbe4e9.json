{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\7\\\\7_bloglist\\\\src\\\\components\\\\BlogList.js\";\nimport React from 'react';\nimport TogglableText from './TogglableText';\nimport Button from './Button';\nimport { actionForDelete, actionForLike, initBlogs } from '../reducers/blogReducer';\nimport { actionForLogout } from '../reducers/userReducer';\nimport { connect } from 'react-redux';\n\nvar BlogList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BlogList, _React$Component);\n\n  function BlogList() {\n    _classCallCheck(this, BlogList);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(BlogList).apply(this, arguments));\n  }\n\n  _createClass(BlogList, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11\n        },\n        __self: this\n      }, React.createElement(Button, {\n        text: 'Log out',\n        onClick: this.props.actionForLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, \"Logged in as: \", this.props.user.username), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }, \"Blogs\"), this.props.blogs.map(function (blog) {\n        return React.createElement(Blog, {\n          key: blog._id,\n          blog: blog,\n          like: _this.props.actionForLike,\n          del: _this.props.actionForDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 16\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return BlogList;\n}(React.Component);\n\nvar Blog = function Blog(_ref) {\n  var blog = _ref.blog,\n      like = _ref.like,\n      del = _ref.del;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(TogglableText, {\n    author: blog.author,\n    title: blog.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(BlogDetails, {\n    blog: blog,\n    like: like,\n    del: del,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  })));\n};\n\nvar BlogDetails = function BlogDetails(_ref2) {\n  var blog = _ref2.blog,\n      like = _ref2.like,\n      del = _ref2.del;\n  var name = 'Unknown';\n\n  if (blog.user !== null && blog.user !== undefined) {\n    // console.log(blog.user)\n    name = blog.user.name;\n  }\n\n  var hideIfNotLoggedUsers = hideOrShowDeleteFor(blog);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"urlDiv\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, blog.url), React.createElement(\"div\", {\n    className: \"likesDiv\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, blog.likes, \" likes \", React.createElement(Button, {\n    onClick: function onClick() {\n      return like(blog);\n    },\n    text: 'Like',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Added by: \", name), React.createElement(\"div\", {\n    style: hideIfNotLoggedUsers,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: function onClick() {\n      return del(blog);\n    },\n    text: 'Delete',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), \" \"));\n};\n\nvar mapDispatchToProps = {\n  initBlogs: initBlogs,\n  actionForLike: actionForLike,\n  actionForDelete: actionForDelete,\n  actionForLogout: actionForLogout\n};\n\nvar sortedBlogs = function sortedBlogs(blogs) {\n  return blogs.sort(function (a, b) {\n    return b.likes - a.likes;\n  });\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    blogs: sortedBlogs(state.blogs),\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogList); //some util\n\nfunction hideOrShowDeleteFor(blog) {\n  var loggedUserJSON = window.localStorage.getItem('loggedUser');\n  if (blog.user === null || blog.user === undefined || !loggedUserJSON) return {\n    display: ''\n  };\n  var user = JSON.parse(loggedUserJSON);\n  return {\n    display: user.name === blog.user.name ? '' : 'none'\n  };\n}","map":{"version":3,"sources":["C:\\Users\\Juha\\Desktop\\Full_stack_open_2018\\7\\7_bloglist\\src\\components\\BlogList.js"],"names":["React","TogglableText","Button","actionForDelete","actionForLike","initBlogs","actionForLogout","connect","BlogList","props","user","username","blogs","map","blog","_id","Component","Blog","like","del","author","title","BlogDetails","name","undefined","hideIfNotLoggedUsers","hideOrShowDeleteFor","url","likes","mapDispatchToProps","sortedBlogs","sort","a","b","mapStateToProps","state","loggedUserJSON","window","localStorage","getItem","display","JSON","parse"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport TogglableText from './TogglableText'\r\nimport Button from './Button'\r\nimport { actionForDelete, actionForLike, initBlogs } from '../reducers/blogReducer'\r\nimport {actionForLogout} from '../reducers/userReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nclass BlogList extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button text={'Log out'} onClick={this.props.actionForLogout} />\r\n        <div>Logged in as: {this.props.user.username}</div>\r\n        <h2>Blogs</h2>\r\n        {this.props.blogs.map(blog =>\r\n          <Blog key={blog._id} blog={blog} like={this.props.actionForLike} del={this.props.actionForDelete}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst Blog = ({ blog , like, del}) => (\r\n  <div>\r\n    <TogglableText author={blog.author} title={blog.title}>\r\n      <BlogDetails blog={blog} like={like} del={del} />\r\n    </TogglableText>\r\n  </div>\r\n)\r\nconst BlogDetails = ({ blog, like, del }) => {\r\n  let name = 'Unknown'\r\n\r\n  if (blog.user !== null && blog.user !== undefined) {\r\n    // console.log(blog.user)\r\n    name = blog.user.name\r\n  }\r\n  let hideIfNotLoggedUsers = hideOrShowDeleteFor(blog);\r\n  return (\r\n    <div>\r\n      <div className=\"urlDiv\">{blog.url}</div>\r\n      <div className=\"likesDiv\">{blog.likes} likes <Button onClick={() => like(blog)} text={'Like'} /></div>\r\n      <div>Added by: {name}</div>\r\n      <div style={hideIfNotLoggedUsers}><Button onClick={() => del(blog)} text={'Delete'}></Button> </div>\r\n    </div>\r\n  )\r\n}\r\nconst mapDispatchToProps = {\r\n  initBlogs,\r\n  actionForLike,\r\n  actionForDelete,\r\n  actionForLogout\r\n}\r\nconst sortedBlogs = (blogs) => {\r\n  return blogs.sort((a, b) => b.likes - a.likes)\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return { blogs: sortedBlogs(state.blogs), user: state.user }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogList)\r\n\r\n//some util\r\nfunction hideOrShowDeleteFor(blog) {\r\n  const loggedUserJSON = window.localStorage.getItem('loggedUser');\r\n  if (blog.user === null || blog.user === undefined || !loggedUserJSON)\r\n    return { display: '' }\r\n\r\n  const user = JSON.parse(loggedUserJSON);\r\n  return { display: user.name === blog.user.name ? '' : 'none' };\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}