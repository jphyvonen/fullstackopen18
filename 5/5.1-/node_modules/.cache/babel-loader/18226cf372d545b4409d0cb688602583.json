{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\5\\\\5.1-\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\5\\\\5.1-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\5\\\\5.1-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\5\\\\5.1-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\5\\\\5.1-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\5\\\\5.1-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\5\\\\5.1-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\5\\\\5.1-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\5\\\\5.1-\\\\src\\\\components\\\\FormAddBlog.js\";\nimport React from 'react';\nimport blogService from '../services/blogs';\nimport Input from './InputField';\n\nvar FormAddBlog =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FormAddBlog, _React$Component);\n\n  function FormAddBlog(props) {\n    var _this;\n\n    _classCallCheck(this, FormAddBlog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormAddBlog).call(this, props));\n\n    _this.handleInputFieldChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.createBlog =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var entryObject, res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                entryObject = {\n                  author: _this.state.author,\n                  title: _this.state.title,\n                  url: _this.state.url\n                };\n                _context.next = 4;\n                return blogService.create(entryObject);\n\n              case 4:\n                res = _context.sent;\n\n                _this.setState({\n                  author: '',\n                  title: '',\n                  url: ''\n                });\n\n                _this.updateMain();\n\n                _this.setStatusMessage(\"Added blog \".concat(res.title, \" by \").concat(res.author));\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      author: '',\n      title: '',\n      url: ''\n    };\n    _this.updateMain = _this.props.update;\n    _this.setStatusMessage = _this.props.setStatusMessage;\n    return _this;\n  }\n\n  _createClass(FormAddBlog, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Create new \"), React.createElement(\"form\", {\n        onSubmit: this.createBlog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Input, {\n        handleChange: this.handleInputFieldChange,\n        name: 'author',\n        value: this.state.author,\n        text: 'author',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(Input, {\n        handleChange: this.handleInputFieldChange,\n        name: 'title',\n        value: this.state.title,\n        text: 'title',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }), React.createElement(Input, {\n        handleChange: this.handleInputFieldChange,\n        name: 'url',\n        value: this.state.url,\n        text: 'url',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Create new\")));\n    }\n  }]);\n\n  return FormAddBlog;\n}(React.Component);\n\nexport default FormAddBlog;","map":{"version":3,"sources":["C:\\Users\\Juha\\Desktop\\Full_stack_open_2018\\5\\5.1-\\src\\components\\FormAddBlog.js"],"names":["React","blogService","Input","FormAddBlog","props","handleInputFieldChange","event","setState","target","name","value","createBlog","preventDefault","entryObject","author","state","title","url","create","res","updateMain","setStatusMessage","update","Component"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,KAAP,MAAkB,cAAlB;;IAEMC,W;;;;;AACF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN;;AADe,UAUnBC,sBAVmB,GAUM,UAACC,KAAD,EAAW;AAChC,YAAKC,QAAL,qBAAiBD,KAAK,CAACE,MAAN,CAAaC,IAA9B,EAAqCH,KAAK,CAACE,MAAN,CAAaE,KAAlD;AACH,KAZkB;;AAAA,UAanBC,UAbmB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAaN,iBAAOL,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACTA,gBAAAA,KAAK,CAACM,cAAN;AACMC,gBAAAA,WAFG,GAEW;AAChBC,kBAAAA,MAAM,EAAE,MAAKC,KAAL,CAAWD,MADH;AAEhBE,kBAAAA,KAAK,EAAE,MAAKD,KAAL,CAAWC,KAFF;AAGhBC,kBAAAA,GAAG,EAAE,MAAKF,KAAL,CAAWE;AAHA,iBAFX;AAAA;AAAA,uBAOShB,WAAW,CAACiB,MAAZ,CAAmBL,WAAnB,CAPT;;AAAA;AAOHM,gBAAAA,GAPG;;AAQT,sBAAKZ,QAAL,CAAc;AACVO,kBAAAA,MAAM,EAAE,EADE;AAEVE,kBAAAA,KAAK,EAAE,EAFG;AAGVC,kBAAAA,GAAG,EAAE;AAHK,iBAAd;;AAKA,sBAAKG,UAAL;;AACA,sBAAKC,gBAAL,sBAAoCF,GAAG,CAACH,KAAxC,iBAAoDG,GAAG,CAACL,MAAxD;;AAdS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAbM;;AAAA;AAAA;AAAA;AAAA;;AAEf,UAAKC,KAAL,GAAa;AACTD,MAAAA,MAAM,EAAE,EADC;AAETE,MAAAA,KAAK,EAAE,EAFE;AAGTC,MAAAA,GAAG,EAAE;AAHI,KAAb;AAKA,UAAKG,UAAL,GAAkB,MAAKhB,KAAL,CAAWkB,MAA7B;AACA,UAAKD,gBAAL,GAAwB,MAAKjB,KAAL,CAAWiB,gBAAnC;AARe;AASlB;;;;6BAoBQ;AACL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAEI;AAAM,QAAA,QAAQ,EAAE,KAAKV,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,YAAY,EAAE,KAAKN,sBAA1B;AAAkD,QAAA,IAAI,EAAE,QAAxD;AAAkE,QAAA,KAAK,EAAE,KAAKU,KAAL,CAAWD,MAApF;AAA4F,QAAA,IAAI,EAAE,QAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,KAAD;AAAO,QAAA,YAAY,EAAE,KAAKT,sBAA1B;AAAkD,QAAA,IAAI,EAAE,OAAxD;AAAiE,QAAA,KAAK,EAAE,KAAKU,KAAL,CAAWC,KAAnF;AAA0F,QAAA,IAAI,EAAE,OAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI,oBAAC,KAAD;AAAO,QAAA,YAAY,EAAE,KAAKX,sBAA1B;AAAkD,QAAA,IAAI,EAAE,KAAxD;AAA+D,QAAA,KAAK,EAAE,KAAKU,KAAL,CAAWE,GAAjF;AAAsF,QAAA,IAAI,EAAE,KAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJJ,CAFJ,CADJ;AAWH;;;;EA1CqBjB,KAAK,CAACuB,S;;AA4ChC,eAAepB,WAAf","sourcesContent":["import React from 'react'\r\nimport blogService from '../services/blogs'\r\nimport Input from './InputField'\r\n\r\nclass FormAddBlog extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            author: '',\r\n            title: '',\r\n            url: ''\r\n        }\r\n        this.updateMain = this.props.update\r\n        this.setStatusMessage = this.props.setStatusMessage\r\n    }\r\n    handleInputFieldChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value })\r\n    }\r\n    createBlog = async (event) => {\r\n        event.preventDefault()\r\n        const entryObject = {\r\n            author: this.state.author,\r\n            title: this.state.title,\r\n            url: this.state.url\r\n        }\r\n        const res = await blogService.create(entryObject)\r\n        this.setState({\r\n            author: '',\r\n            title: '',\r\n            url: ''\r\n        })\r\n        this.updateMain()\r\n        this.setStatusMessage(`Added blog ${res.title} by ${res.author}`)\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Create new </h2>\r\n                <form onSubmit={this.createBlog}>\r\n                    <Input handleChange={this.handleInputFieldChange} name={'author'} value={this.state.author} text={'author'} />\r\n                    <Input handleChange={this.handleInputFieldChange} name={'title'} value={this.state.title} text={'title'} />\r\n                    <Input handleChange={this.handleInputFieldChange} name={'url'} value={this.state.url} text={'url'} />\r\n                    <button type=\"submit\">Create new</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default FormAddBlog"]},"metadata":{},"sourceType":"module"}