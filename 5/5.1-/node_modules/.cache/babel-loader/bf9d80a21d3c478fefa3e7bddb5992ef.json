{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\5\\\\5.1-\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Juha\\\\Desktop\\\\Full_stack_open_2018\\\\5\\\\5.1-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nvar baseUrl = '/api/blogs';\nvar token = null;\n\nvar getAll =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var request;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.get(baseUrl);\n\n          case 2:\n            request = _context.sent;\n            return _context.abrupt(\"return\", request.data);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function getAll() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar setToken = function setToken(newToken) {\n  token = \"bearer \".concat(newToken);\n};\n\nvar create =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(newBlog) {\n    var config, res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            config = {\n              headers: {\n                'Authorization': token\n              }\n            };\n            _context2.next = 3;\n            return axios.post(baseUrl, newBlog, config);\n\n          case 3:\n            res = _context2.sent;\n            console.log(res.data);\n            return _context2.abrupt(\"return\", res.data);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function create(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar update =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(id, blog) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return axios.put(\"\".concat(baseUrl, \"/\").concat(id), blog);\n\n          case 2:\n            res = _context3.sent;\n            return _context3.abrupt(\"return\", res.data);\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function update(_x2, _x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar remove =\n/*#__PURE__*/\nfunction () {\n  var _ref4 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4(id, blog) {\n    var config, res;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            config = {\n              headers: {\n                'Authorization': token\n              }\n            };\n            _context4.next = 3;\n            return axios.delete(\"\".concat(baseUrl, \"/\").concat(id), config);\n\n          case 3:\n            res = _context4.sent;\n            return _context4.abrupt(\"return\", res.data);\n\n          case 5:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function remove(_x4, _x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nexport default {\n  getAll: getAll,\n  create: create,\n  setToken: setToken,\n  update: update,\n  remove: remove\n};","map":{"version":3,"sources":["C:\\Users\\Juha\\Desktop\\Full_stack_open_2018\\5\\5.1-\\src\\services\\blogs.js"],"names":["axios","baseUrl","token","getAll","get","request","data","setToken","newToken","create","newBlog","config","headers","post","res","console","log","update","id","blog","put","remove","delete"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,OAAO,GAAG,YAAhB;AACA,IAAIC,KAAK,GAAG,IAAZ;;AACA,IAAMC,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACSH,KAAK,CAACI,GAAN,CAAUH,OAAV,CADT;;AAAA;AACPI,YAAAA,OADO;AAAA,6CAENA,OAAO,CAACC,IAFF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANH,MAAM;AAAA;AAAA;AAAA,GAAZ;;AAIA,IAAMI,QAAQ,GAAG,SAAXA,QAAW,CAACC,QAAD,EAAc;AAC7BN,EAAAA,KAAK,oBAAaM,QAAb,CAAL;AACD,CAFD;;AAIA,IAAMC,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,YAAAA,MADO,GACE;AACbC,cAAAA,OAAO,EAAE;AAAE,iCAAiBV;AAAnB;AADI,aADF;AAAA;AAAA,mBAIKF,KAAK,CAACa,IAAN,CAAWZ,OAAX,EAAoBS,OAApB,EAA6BC,MAA7B,CAJL;;AAAA;AAIPG,YAAAA,GAJO;AAKbC,YAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACR,IAAhB;AALa,8CAMNQ,GAAG,CAACR,IANE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANG,MAAM;AAAA;AAAA;AAAA,GAAZ;;AAQA,IAAMQ,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBAAOC,EAAP,EAAWC,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACKnB,KAAK,CAACoB,GAAN,WAAanB,OAAb,cAAwBiB,EAAxB,GAA8BC,IAA9B,CADL;;AAAA;AACPL,YAAAA,GADO;AAAA,8CAENA,GAAG,CAACR,IAFE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANW,MAAM;AAAA;AAAA;AAAA,GAAZ;;AAIA,IAAMI,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBAAOH,EAAP,EAAWC,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AACPR,YAAAA,MADO,GACE;AACbC,cAAAA,OAAO,EAAC;AAAC,iCAAiBV;AAAlB;AADK,aADF;AAAA;AAAA,mBAIKF,KAAK,CAACsB,MAAN,WAAgBrB,OAAhB,cAA2BiB,EAA3B,GAAiCP,MAAjC,CAJL;;AAAA;AAIPG,YAAAA,GAJO;AAAA,8CAKNA,GAAG,CAACR,IALE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANe,MAAM;AAAA;AAAA;AAAA,GAAZ;;AAOA,eAAe;AAAElB,EAAAA,MAAM,EAANA,MAAF;AAAUM,EAAAA,MAAM,EAANA,MAAV;AAAkBF,EAAAA,QAAQ,EAARA,QAAlB;AAA4BU,EAAAA,MAAM,EAANA,MAA5B;AAAoCI,EAAAA,MAAM,EAANA;AAApC,CAAf","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\nlet token = null\r\nconst getAll = async () => {\r\n  const request = await axios.get(baseUrl)\r\n  return request.data\r\n}\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst create = async (newBlog) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const res = await axios.post(baseUrl, newBlog, config)\r\n  console.log(res.data)\r\n  return res.data\r\n}\r\nconst update = async (id, blog) => {\r\n  const res = await axios.put(`${baseUrl}/${id}`, blog)\r\n  return res.data\r\n}\r\nconst remove = async (id, blog) => {\r\n  const config = {\r\n    headers:{'Authorization': token}\r\n  }\r\n  const res = await axios.delete(`${baseUrl}/${id}`, config)\r\n  return res.data\r\n}\r\nexport default { getAll, create, setToken, update, remove }"]},"metadata":{},"sourceType":"module"}